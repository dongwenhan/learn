## 1.对象在内存中的分配

​    对象分为三部分

​     1.对象头 2.对象数据 3.对齐填充 padding

### 1.1 对象头数据

#### 1.1.1 Mark Word 

  对象运行时的数据 例如:  hashCode  thread id  Gc 年龄  lock 信息  


根据锁状态不同存储信息不同  

​     ---  无锁 
​     ---  偏向锁
​     ---  轻量锁
​     ---  重量锁 
​     ---  GC

| 锁状态 | 25 bit          | 31bit       | 1bit     | 4bit     | 1bit         | 2bit     |
| ------ | --------------- | ----------- | -------- | -------- | ------------ | -------- |
| ------ |                 |             | cms_free | 分代年龄 | 是否为偏向锁 | 锁标志位 |
| 无锁   | unused          | hashCode    | 1        |          | 0            | 01       |
| 偏向锁 | ThreadId(54bit) | epoch(2bit) | 1        |          | 1            | 01       |
| 轻量锁 |                 |             | 1        |          | 0            | 00       |
| 重量锁 |                 |             | 1        |          | 0            | 10       |
| GC     |                 |             | 1        |          |              | 11       |
|        |                 |             |          |          |              |          |
|        |                 |             |          |          |              |          |
|        |                 |             |          |          |              |          |

![image-20200602102045060](C:\Users\dongw\AppData\Roaming\Typora\typora-user-images\image-20200602102045060.png)

#### 1.1.2   对象类型指针

​    



### 